import{l as n,W as u,a as h,b as f,c as g,d as p,e as v}from"./ts.worker-13086bc6.js";import{_,p as a,q as d,Q as r,w as m,x as E,a3 as y,a4 as w}from"./framework-b01e3c2f.js";import"./mermaid-c798b724-509d9c22.js";n.register({id:"vs.editor.nullLanguage"});n.setLanguageConfiguration("vs.editor.nullLanguage",{});self.MonacoEnvironment={getWorker(e,t){return t==="json"?new u:t==="css"||t==="scss"||t==="less"?new h:t==="html"||t==="handlebars"||t==="razor"?new f:t==="typescript"||t==="javascript"?new g:new p}};const S={name:"MonacoEditor",props:{value:{type:String,default:""},mode:{type:String,default:"json"},foldAll:{type:Boolean,default:!1},autoHeight:{type:Boolean,default:!1},border:{type:Boolean,default:!0},radius:{type:String,default:"4px"},tabSpaces:{type:Boolean,default:!0},readOnly:{type:Boolean,default:!1}},data(){return{fullScreen:!1}},watch:{value(e){this.getEditor()&&e!==this.getValue()&&this.setValue(e)}},mounted(){this.initEditor()},beforeDestroy(){this.destroyEditor()},methods:{getEditor(){return this.$codeEditor},setEditor(e){this.$codeEditor=e},initEditor(){this.getEditor()&&this.destroyEditor();const{value:e,mode:t}=this,o=v.create(this.$refs.monaco,{value:e,language:t==="sql"?"mysql":t,automaticLayout:!0,theme:"vs",fontSize:13,tabSize:2,overviewRulerBorder:!1,minimap:{enabled:!0},folding:!0,readOnly:this.readOnly});o.onDidChangeModelContent(s=>{this.$emit("update:value",this.getValue())}),o.onDidScrollChange(s=>{this.$emit("scroll",s)}),this.setEditor(o)},foldLines(e=0){this.getEditor().trigger("fold",e?`editor.foldLevel${e}`:"editor.foldAll")},unfoldLines(e=0){this.getEditor().trigger("unfold",e?`editor.foldLevel${e}`:"editor.unfoldAll")},getValue(){return this.getEditor().getValue()},setValue(e){this.getEditor().setValue(e)},destroyEditor(){const e=this.getEditor();e&&(e.dispose(),this.setEditor(null))}}},l=e=>(y("data-v-c29ed43f"),e=e(),w(),e),$={class:"code-editor-wrap"},k=l(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},[r("path",{d:"M10.75 1a.75.75 0 0 1 .75.75v2.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 0 1.5h-2.5A1.75 1.75 0 0 1 10 4.25v-2.5a.75.75 0 0 1 .75-.75Zm-5.5 0a.75.75 0 0 1 .75.75v2.5A1.75 1.75 0 0 1 4.25 6h-2.5a.75.75 0 0 1 0-1.5h2.5a.25.25 0 0 0 .25-.25v-2.5A.75.75 0 0 1 5.25 1ZM1 10.75a.75.75 0 0 1 .75-.75h2.5c.966 0 1.75.784 1.75 1.75v2.5a.75.75 0 0 1-1.5 0v-2.5a.25.25 0 0 0-.25-.25h-2.5a.75.75 0 0 1-.75-.75Zm9 1c0-.966.784-1.75 1.75-1.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0Z"})],-1)),W=[k],B=l(()=>r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",width:"16",height:"16"},[r("path",{d:"M1.75 10a.75.75 0 0 1 .75.75v2.5c0 .138.112.25.25.25h2.5a.75.75 0 0 1 0 1.5h-2.5A1.75 1.75 0 0 1 1 13.25v-2.5a.75.75 0 0 1 .75-.75Zm12.5 0a.75.75 0 0 1 .75.75v2.5A1.75 1.75 0 0 1 13.25 15h-2.5a.75.75 0 0 1 0-1.5h2.5a.25.25 0 0 0 .25-.25v-2.5a.75.75 0 0 1 .75-.75ZM2.75 2.5a.25.25 0 0 0-.25.25v2.5a.75.75 0 0 1-1.5 0v-2.5C1 1.784 1.784 1 2.75 1h2.5a.75.75 0 0 1 0 1.5ZM10 1.75a.75.75 0 0 1 .75-.75h2.5c.966 0 1.75.784 1.75 1.75v2.5a.75.75 0 0 1-1.5 0v-2.5a.25.25 0 0 0-.25-.25h-2.5a.75.75 0 0 1-.75-.75Z"})],-1)),M=[B],x={ref:"monaco",class:"editor"};function A(e,t,o,s,i,C){return a(),d("div",$,[r("div",{class:m(["code-editor",{"auto-height":o.autoHeight,"editor-full":i.fullScreen,border:o.border}]),style:E({borderRadius:o.radius})},[i.fullScreen?(a(),d("div",{key:0,class:"full-icon",onClick:t[0]||(t[0]=c=>i.fullScreen=!1)},W)):(a(),d("div",{key:1,class:"full-icon",title:"fullscreen",onClick:t[1]||(t[1]=c=>i.fullScreen=!0)},M)),r("div",x,null,512)],6)])}const z=_(S,[["render",A],["__scopeId","data-v-c29ed43f"],["__file","MonacoEditor.vue"]]);export{z as default};
