import{c as Se}from"./commonjs-dynamic-modules-302442b1.js";import{c as Oe}from"./mermaid-c798b724-509d9c22.js";import{_ as Ae,p as N,q as P,Q as w,w as le,R as ne,t as be,O as je,P as Re,v as ue,a3 as Te,a4 as De}from"./framework-b01e3c2f.js";var de={},Ne={get exports(){return de},set exports(e){de=e}};(function(e){var n=function(o){var a=Object.prototype,l=a.hasOwnProperty,u=Object.defineProperty||function(r,t,s){r[t]=s.value},i,v=typeof Symbol=="function"?Symbol:{},m=v.iterator||"@@iterator",T=v.asyncIterator||"@@asyncIterator",I=v.toStringTag||"@@toStringTag";function h(r,t,s){return Object.defineProperty(r,t,{value:s,enumerable:!0,configurable:!0,writable:!0}),r[t]}try{h({},"")}catch{h=function(t,s,d){return t[s]=d}}function _(r,t,s,d){var c=t&&t.prototype instanceof Y?t:Y,g=Object.create(c.prototype),L=new k(d||[]);return u(g,"_invoke",{value:te(r,s,L)}),g}o.wrap=_;function C(r,t,s){try{return{type:"normal",arg:r.call(t,s)}}catch(d){return{type:"throw",arg:d}}}var b="suspendedStart",U="suspendedYield",$="executing",G="completed",A={};function Y(){}function x(){}function D(){}var H={};h(H,m,function(){return this});var J=Object.getPrototypeOf,z=J&&J(J(E([])));z&&z!==a&&l.call(z,m)&&(H=z);var M=D.prototype=Y.prototype=Object.create(H);x.prototype=D,u(M,"constructor",{value:D,configurable:!0}),u(D,"constructor",{value:x,configurable:!0}),x.displayName=h(D,I,"GeneratorFunction");function Z(r){["next","throw","return"].forEach(function(t){h(r,t,function(s){return this._invoke(t,s)})})}o.isGeneratorFunction=function(r){var t=typeof r=="function"&&r.constructor;return t?t===x||(t.displayName||t.name)==="GeneratorFunction":!1},o.mark=function(r){return Object.setPrototypeOf?Object.setPrototypeOf(r,D):(r.__proto__=D,h(r,I,"GeneratorFunction")),r.prototype=Object.create(M),r},o.awrap=function(r){return{__await:r}};function W(r,t){function s(g,L,S,j){var O=C(r[g],r,L);if(O.type==="throw")j(O.arg);else{var re=O.arg,V=re.value;return V&&typeof V=="object"&&l.call(V,"__await")?t.resolve(V.__await).then(function(F){s("next",F,S,j)},function(F){s("throw",F,S,j)}):t.resolve(V).then(function(F){re.value=F,S(re)},function(F){return s("throw",F,S,j)})}}var d;function c(g,L){function S(){return new t(function(j,O){s(g,L,j,O)})}return d=d?d.then(S,S):S()}u(this,"_invoke",{value:c})}Z(W.prototype),h(W.prototype,T,function(){return this}),o.AsyncIterator=W,o.async=function(r,t,s,d,c){c===void 0&&(c=Promise);var g=new W(_(r,t,s,d),c);return o.isGeneratorFunction(t)?g:g.next().then(function(L){return L.done?L.value:g.next()})};function te(r,t,s){var d=b;return function(g,L){if(d===$)throw new Error("Generator is already running");if(d===G){if(g==="throw")throw L;return q()}for(s.method=g,s.arg=L;;){var S=s.delegate;if(S){var j=p(S,s);if(j){if(j===A)continue;return j}}if(s.method==="next")s.sent=s._sent=s.arg;else if(s.method==="throw"){if(d===b)throw d=G,s.arg;s.dispatchException(s.arg)}else s.method==="return"&&s.abrupt("return",s.arg);d=$;var O=C(r,t,s);if(O.type==="normal"){if(d=s.done?G:U,O.arg===A)continue;return{value:O.arg,done:s.done}}else O.type==="throw"&&(d=G,s.method="throw",s.arg=O.arg)}}}function p(r,t){var s=t.method,d=r.iterator[s];if(d===i)return t.delegate=null,s==="throw"&&r.iterator.return&&(t.method="return",t.arg=i,p(r,t),t.method==="throw")||s!=="return"&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+s+"' method")),A;var c=C(d,r.iterator,t.arg);if(c.type==="throw")return t.method="throw",t.arg=c.arg,t.delegate=null,A;var g=c.arg;if(!g)return t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,A;if(g.done)t[r.resultName]=g.value,t.next=r.nextLoc,t.method!=="return"&&(t.method="next",t.arg=i);else return g;return t.delegate=null,A}Z(M),h(M,I,"Generator"),h(M,m,function(){return this}),h(M,"toString",function(){return"[object Generator]"});function f(r){var t={tryLoc:r[0]};1 in r&&(t.catchLoc=r[1]),2 in r&&(t.finallyLoc=r[2],t.afterLoc=r[3]),this.tryEntries.push(t)}function y(r){var t=r.completion||{};t.type="normal",delete t.arg,r.completion=t}function k(r){this.tryEntries=[{tryLoc:"root"}],r.forEach(f,this),this.reset(!0)}o.keys=function(r){var t=Object(r),s=[];for(var d in t)s.push(d);return s.reverse(),function c(){for(;s.length;){var g=s.pop();if(g in t)return c.value=g,c.done=!1,c}return c.done=!0,c}};function E(r){if(r){var t=r[m];if(t)return t.call(r);if(typeof r.next=="function")return r;if(!isNaN(r.length)){var s=-1,d=function c(){for(;++s<r.length;)if(l.call(r,s))return c.value=r[s],c.done=!1,c;return c.value=i,c.done=!0,c};return d.next=d}}return{next:q}}o.values=E;function q(){return{value:i,done:!0}}return k.prototype={constructor:k,reset:function(r){if(this.prev=0,this.next=0,this.sent=this._sent=i,this.done=!1,this.delegate=null,this.method="next",this.arg=i,this.tryEntries.forEach(y),!r)for(var t in this)t.charAt(0)==="t"&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=i)},stop:function(){this.done=!0;var r=this.tryEntries[0],t=r.completion;if(t.type==="throw")throw t.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var t=this;function s(j,O){return g.type="throw",g.arg=r,t.next=j,O&&(t.method="next",t.arg=i),!!O}for(var d=this.tryEntries.length-1;d>=0;--d){var c=this.tryEntries[d],g=c.completion;if(c.tryLoc==="root")return s("end");if(c.tryLoc<=this.prev){var L=l.call(c,"catchLoc"),S=l.call(c,"finallyLoc");if(L&&S){if(this.prev<c.catchLoc)return s(c.catchLoc,!0);if(this.prev<c.finallyLoc)return s(c.finallyLoc)}else if(L){if(this.prev<c.catchLoc)return s(c.catchLoc,!0)}else if(S){if(this.prev<c.finallyLoc)return s(c.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(r,t){for(var s=this.tryEntries.length-1;s>=0;--s){var d=this.tryEntries[s];if(d.tryLoc<=this.prev&&l.call(d,"finallyLoc")&&this.prev<d.finallyLoc){var c=d;break}}c&&(r==="break"||r==="continue")&&c.tryLoc<=t&&t<=c.finallyLoc&&(c=null);var g=c?c.completion:{};return g.type=r,g.arg=t,c?(this.method="next",this.next=c.finallyLoc,A):this.complete(g)},complete:function(r,t){if(r.type==="throw")throw r.arg;return r.type==="break"||r.type==="continue"?this.next=r.arg:r.type==="return"?(this.rval=this.arg=r.arg,this.method="return",this.next="end"):r.type==="normal"&&t&&(this.next=t),A},finish:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.finallyLoc===r)return this.complete(s.completion,s.afterLoc),y(s),A}},catch:function(r){for(var t=this.tryEntries.length-1;t>=0;--t){var s=this.tryEntries[t];if(s.tryLoc===r){var d=s.completion;if(d.type==="throw"){var c=d.arg;y(s)}return c}}throw new Error("illegal catch attempt")},delegateYield:function(r,t,s){return this.delegate={iterator:E(r),resultName:t,nextLoc:s},this.method==="next"&&(this.arg=i),A}},o}(e.exports);try{regeneratorRuntime=n}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}})(Ne);var ae=(e,n)=>`${e}-${n}-${Math.random().toString(16).slice(3,8)}`;const Pe=ae;let pe=0;var _e=({id:e,action:n,payload:o={}})=>{let a=e;return typeof a>"u"&&(a=Pe("Job",pe),pe+=1),{id:a,action:n,payload:o}},K={};let ie=!1;K.logging=ie;K.setLogging=e=>{ie=e};K.log=(...e)=>ie?console.log.apply(globalThis,e):null;const Ie=_e,{log:Q}=K,Ce=ae;let fe=0;var $e=()=>{const e=Ce("Scheduler",fe),n={},o={};let a=[];fe+=1;const l=()=>a.length,u=()=>Object.keys(n).length,i=()=>{if(a.length!==0){const h=Object.keys(n);for(let _=0;_<h.length;_+=1)if(typeof o[h[_]]>"u"){a[0](n[h[_]]);break}}},v=(h,_)=>new Promise((C,b)=>{const U=Ie({action:h,payload:_});a.push(async $=>{a.shift(),o[$.id]=U;try{C(await $[h].apply(globalThis,[..._,U.id]))}catch(G){b(G)}finally{delete o[$.id],i()}}),Q(`[${e}]: Add ${U.id} to JobQueue`),Q(`[${e}]: JobQueue length=${a.length}`),i()});return{addWorker:h=>(n[h.id]=h,Q(`[${e}]: Add ${h.id}`),Q(`[${e}]: Number of workers=${u()}`),i(),h.id),addJob:async(h,..._)=>{if(u()===0)throw Error(`[${e}]: You need to have at least one worker before adding jobs`);return v(h,_)},terminate:async()=>{Object.keys(n).forEach(async h=>{await n[h].terminate()}),a=[]},getQueueLen:l,getNumWorkers:u}};function Ge(){return!!(typeof window<"u"&&typeof window.process=="object"&&window.process.type==="renderer"||typeof process<"u"&&typeof process.versions=="object"&&process.versions.electron||typeof navigator=="object"&&typeof navigator.userAgent=="string"&&navigator.userAgent.indexOf("Electron")>=0)}var Me=Ge;const Ue=Me;var Fe=e=>{const n={};return typeof WorkerGlobalScope<"u"?n.type="webworker":Ue()?n.type="electron":typeof window=="object"?n.type="browser":typeof process=="object"&&typeof Se=="function"&&(n.type="node"),typeof e>"u"?n:n[e]},ee={},Be={get exports(){return ee},set exports(e){ee=e}},he;function ce(){return he||(he=1,function(e,n){(function(o,a){e.exports=a()})(Oe,function(){function o(){var a=arguments.length;if(a===0)throw new Error("resolveUrl requires at least one argument; got none.");var l=document.createElement("base");if(l.href=arguments[0],a===1)return l.href;var u=document.getElementsByTagName("head")[0];u.insertBefore(l,u.firstChild);for(var i=document.createElement("a"),v,m=1;m<a;m++)i.href=arguments[m],v=i.href,l.href=v;return u.removeChild(l),v}return o})}(Be)),ee}const xe=Fe("type")==="browser",ze=xe?ce():e=>e;var We=e=>{const n={...e};return["corePath","workerPath","langPath"].forEach(o=>{e[o]&&(n[o]=ze(n[o]))}),n},qe=e=>{const n=[],o=[],a=[],l=[],u=[];return e.blocks&&e.blocks.forEach(i=>{i.paragraphs.forEach(v=>{v.lines.forEach(m=>{m.words.forEach(T=>{T.symbols.forEach(I=>{u.push({...I,page:e,block:i,paragraph:v,line:m,word:T})}),l.push({...T,page:e,block:i,paragraph:v,line:m})}),a.push({...m,page:e,block:i,paragraph:v})}),o.push({...v,page:e,block:i})}),n.push({...i,page:e})}),{...e,blocks:n,paragraphs:o,lines:a,words:l,symbols:u}},ke={TESSERACT_ONLY:0,LSTM_ONLY:1,TESSERACT_LSTM_COMBINED:2,DEFAULT:3};const Ke=ke;var Ye={defaultOEM:Ke.DEFAULT};const He="tesseract.js",Je="tesseract.js@4.0.2",Ve=!1,Ze="sha512-OKc6N68czBa8QnoBwx+kAUG4OyqskXa1O7wSrOXOEYZ0TQcGa3daRVIsRhtVAmNMTrvZnOsg49kfNrw0BZaFEA==",Qe="/tesseract.js",Xe={},et={type:"tag",registry:!0,raw:"tesseract.js",name:"tesseract.js",escapedName:"tesseract.js",rawSpec:"",saveSpec:null,fetchSpec:"latest"},tt=["#USER","/"],rt="https://mirrors.tencent.com/npm/tesseract.js/-/tesseract.js-4.0.2.tgz",nt="473fe5e8b6da358f38be9822e72e3e9baa285184",ot="tesseract.js",st="/Users/hill/Github/web-tools",at="",it={"./src/worker/node/index.js":"./src/worker/browser/index.js"},ct={url:"https://github.com/naptha/tesseract.js/issues"},lt=!1,ut={type:"opencollective",url:"https://opencollective.com/tesseractjs"},dt=[{name:"jeromewu"}],pt={"babel-eslint":"^10.1.0","bmp-js":"^0.1.0","file-type":"^12.4.1","idb-keyval":"^3.2.0","is-electron":"^2.2.0","is-url":"^1.2.4","node-fetch":"^2.6.0","opencollective-postinstall":"^2.0.2","regenerator-runtime":"^0.13.3","resolve-url":"^0.2.1","tesseract.js-core":"^4.0.2","wasm-feature-detect":"^1.2.11",zlibjs:"^0.3.1"},ft=!1,ht="Pure Javascript Multilingual OCR",gt={"@babel/core":"^7.18.7","@babel/preset-env":"^7.18.7","@rollup/plugin-commonjs":"^22.0.2",acorn:"^6.4.0","babel-loader":"^8.2.0",buffer:"^6.0.3",cors:"^2.8.5",eslint:"^7.2.0","eslint-config-airbnb-base":"^14.2.0","eslint-plugin-import":"^2.22.1","expect.js":"^0.3.1",express:"^4.17.1",mocha:"^10.0.0","mocha-headless-chrome":"^4.0.0","npm-run-all":"^4.1.5",nyc:"^15.1.0",rimraf:"^2.7.1",rollup:"^2.79.0","wait-on":"^3.3.0",webpack:"^5.74.0","webpack-bundle-analyzer":"^4.6.0","webpack-cli":"^4.10.0","webpack-dev-middleware":"^5.3.3"},vt="https://github.com/naptha/tesseract.js",mt="dist/tesseract.min.js",yt="Apache-2.0",wt="src/index.js",bt="tesseract.js",_t={type:"git",url:"git+https://github.com/naptha/tesseract.js.git"},kt={build:"rimraf dist && webpack --config scripts/webpack.config.prod.js && rollup -c scripts/rollup.esm.js",lint:"eslint src","lint:fix":"eslint --fix src",postinstall:"opencollective-postinstall || true",prepublishOnly:"npm run build","profile:tesseract":"webpack-bundle-analyzer dist/tesseract-stats.json","profile:worker":"webpack-bundle-analyzer dist/worker-stats.json",start:"node scripts/server.js",test:"npm-run-all -p -r start test:all","test:all":"npm-run-all wait test:browser:* test:node:all","test:browser-tpl":"mocha-headless-chrome -a incognito -a no-sandbox -a disable-setuid-sandbox -a disable-logging -t 300000","test:browser:FS":"npm run test:browser-tpl -- -f ./tests/FS.test.html","test:browser:detect":"npm run test:browser-tpl -- -f ./tests/detect.test.html","test:browser:recognize":"npm run test:browser-tpl -- -f ./tests/recognize.test.html","test:browser:scheduler":"npm run test:browser-tpl -- -f ./tests/scheduler.test.html","test:node":"nyc mocha --exit --bail --require ./scripts/test-helper.js","test:node:all":"npm run test:node -- ./tests/*.test.js",wait:"rimraf dist && wait-on http://localhost:3000/dist/tesseract.dev.js"},Et="src/index.d.ts",Lt="dist/tesseract.min.js",St="4.0.2",Ot={_from:He,_id:Je,_inBundle:Ve,_integrity:Ze,_location:Qe,_phantomChildren:Xe,_requested:et,_requiredBy:tt,_resolved:rt,_shasum:nt,_spec:ot,_where:st,author:at,browser:it,bugs:ct,bundleDependencies:lt,collective:ut,contributors:dt,dependencies:pt,deprecated:ft,description:ht,devDependencies:gt,homepage:vt,jsdelivr:mt,license:yt,main:wt,name:bt,repository:_t,scripts:kt,types:Et,unpkg:Lt,version:St};var At={langPath:"https://tessdata.projectnaptha.com/4.0.0",workerBlobURL:!0,logger:()=>{}};const jt=ce(),{version:Rt}=Ot,Tt=At;var Dt={...Tt,workerPath:typeof process<"u"&&{}.TESS_ENV==="development"?jt(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`):`https://unpkg.com/tesseract.js@v${Rt}/dist/worker.min.js`,corePath:null},Nt=({workerPath:e,workerBlobURL:n})=>{let o;if(Blob&&URL&&n){const a=new Blob([`importScripts("${e}");`],{type:"application/javascript"});o=new Worker(URL.createObjectURL(a))}else o=new Worker(e);return o},Pt=e=>{e.terminate()},It=(e,n)=>{e.onmessage=({data:o})=>{n(o)}},Ct=async(e,n)=>{e.postMessage(n)};const $t=ce(),ge=e=>new Promise((n,o)=>{const a=new FileReader;a.onload=()=>{n(a.result)},a.onerror=({target:{error:{code:l}}})=>{o(Error(`File could not be read! Code=${l}`))},a.readAsArrayBuffer(e)}),oe=async e=>{let n=e;return typeof e>"u"?"undefined":(typeof e=="string"?/data:image\/([a-zA-Z]*);base64,([^"]*)/.test(e)?n=atob(e.split(",")[1]).split("").map(o=>o.charCodeAt(0)):n=await(await fetch($t(e))).arrayBuffer():e instanceof HTMLElement?(e.tagName==="IMG"&&(n=await oe(e.src)),e.tagName==="VIDEO"&&(n=await oe(e.poster)),e.tagName==="CANVAS"&&await new Promise(o=>{e.toBlob(async a=>{n=await ge(a),o()})})):(e instanceof File||e instanceof Blob)&&(n=await ge(e)),new Uint8Array(n))};var Gt=oe;const Mt=Dt,Ut=Nt,Ft=Pt,Bt=It,xt=Ct,zt=Gt;var Wt={defaultOptions:Mt,spawnWorker:Ut,terminateWorker:Ft,onMessage:Bt,send:xt,loadImage:zt};const qt=We,Kt=qe,R=_e,{log:ve}=K,Yt=ae,{defaultOEM:Ht}=Ye,{defaultOptions:Jt,spawnWorker:Vt,terminateWorker:Zt,onMessage:Qt,loadImage:me,send:Xt}=Wt;let ye=0;var Ee=async(e={})=>{const n=Yt("Worker",ye),{logger:o,errorHandler:a,...l}=qt({...Jt,...e}),u={},i={};let v,m;const T=new Promise((p,f)=>{m=p,v=f}),I=p=>{v(p.message)};let h=Vt(l);h.onerror=I,ye+=1;const _=(p,f)=>{u[p]=f},C=(p,f)=>{i[p]=f},b=({id:p,action:f,payload:y})=>new Promise((k,E)=>{ve(`[${n}]: Start ${p}, action=${f}`),_(f,k),C(f,E),Xt(h,{workerId:n,jobId:p,action:f,payload:y})}),U=()=>console.warn("`load` is depreciated and should be removed from code (workers now come pre-loaded)"),$=p=>b(R({id:p,action:"load",payload:{options:l}})),G=(p,f,y)=>b(R({id:y,action:"FS",payload:{method:"writeFile",args:[p,f]}})),A=(p,f)=>b(R({id:f,action:"FS",payload:{method:"readFile",args:[p,{encoding:"utf8"}]}})),Y=(p,f)=>b(R({id:f,action:"FS",payload:{method:"unlink",args:[p]}})),x=(p,f,y)=>b(R({id:y,action:"FS",payload:{method:p,args:f}})),D=(p="eng",f)=>b(R({id:f,action:"loadLanguage",payload:{langs:p,options:l}})),H=(p="eng",f=Ht,y,k)=>b(R({id:k,action:"initialize",payload:{langs:p,oem:f,config:y}})),J=(p={},f)=>b(R({id:f,action:"setParameters",payload:{params:p}})),z=async(p,f={},y={blocks:!0,text:!0,hocr:!0,tsv:!0},k)=>b(R({id:k,action:"recognize",payload:{image:await me(p),options:f,output:y}})),M=(p="Tesseract OCR Result",f=!1,y)=>(console.log("`getPDF` function is depreciated. `recognize` option `savePDF` should be used instead."),b(R({id:y,action:"getPDF",payload:{title:p,textonly:f}}))),Z=async(p,f)=>b(R({id:f,action:"detect",payload:{image:await me(p)}})),W=async()=>(h!==null&&(Zt(h),h=null),Promise.resolve());Qt(h,({workerId:p,jobId:f,status:y,action:k,data:E})=>{if(y==="resolve"){ve(`[${p}]: Complete ${f}`);let q=E;k==="recognize"?q=Kt(E):k==="getPDF"&&(q=Array.from({...E,length:Object.keys(E).length})),u[k]({jobId:f,data:q})}else if(y==="reject")if(i[k](E),k==="load"&&v(E),a)a(E);else throw Error(E);else y==="progress"&&o({...E,userJobId:f})});const te={id:n,worker:h,setResolve:_,setReject:C,load:U,writeText:G,readText:A,removeFile:Y,FS:x,loadLanguage:D,initialize:H,setParameters:J,recognize:z,getPDF:M,detect:Z,terminate:W};return $().then(()=>m(te)).catch(()=>{}),T};const Le=Ee,er=async(e,n,o)=>{const a=await Le(o);return await a.loadLanguage(n),await a.initialize(n),a.recognize(e).finally(async()=>{await a.terminate()})},tr=async(e,n)=>{const o=await Le(n);return await o.loadLanguage("osd"),await o.initialize("osd"),o.detect(e).finally(async()=>{await o.terminate()})};var rr={recognize:er,detect:tr},nr={AFR:"afr",AMH:"amh",ARA:"ara",ASM:"asm",AZE:"aze",AZE_CYRL:"aze_cyrl",BEL:"bel",BEN:"ben",BOD:"bod",BOS:"bos",BUL:"bul",CAT:"cat",CEB:"ceb",CES:"ces",CHI_SIM:"chi_sim",CHI_TRA:"chi_tra",CHR:"chr",CYM:"cym",DAN:"dan",DEU:"deu",DZO:"dzo",ELL:"ell",ENG:"eng",ENM:"enm",EPO:"epo",EST:"est",EUS:"eus",FAS:"fas",FIN:"fin",FRA:"fra",FRK:"frk",FRM:"frm",GLE:"gle",GLG:"glg",GRC:"grc",GUJ:"guj",HAT:"hat",HEB:"heb",HIN:"hin",HRV:"hrv",HUN:"hun",IKU:"iku",IND:"ind",ISL:"isl",ITA:"ita",ITA_OLD:"ita_old",JAV:"jav",JPN:"jpn",KAN:"kan",KAT:"kat",KAT_OLD:"kat_old",KAZ:"kaz",KHM:"khm",KIR:"kir",KOR:"kor",KUR:"kur",LAO:"lao",LAT:"lat",LAV:"lav",LIT:"lit",MAL:"mal",MAR:"mar",MKD:"mkd",MLT:"mlt",MSA:"msa",MYA:"mya",NEP:"nep",NLD:"nld",NOR:"nor",ORI:"ori",PAN:"pan",POL:"pol",POR:"por",PUS:"pus",RON:"ron",RUS:"rus",SAN:"san",SIN:"sin",SLK:"slk",SLV:"slv",SPA:"spa",SPA_OLD:"spa_old",SQI:"sqi",SRP:"srp",SRP_LATN:"srp_latn",SWA:"swa",SWE:"swe",SYR:"syr",TAM:"tam",TEL:"tel",TGK:"tgk",TGL:"tgl",THA:"tha",TIR:"tir",TUR:"tur",UIG:"uig",UKR:"ukr",URD:"urd",UZB:"uzb",UZB_CYRL:"uzb_cyrl",VIE:"vie",YID:"yid"},or={OSD_ONLY:"0",AUTO_OSD:"1",AUTO_ONLY:"2",AUTO:"3",SINGLE_COLUMN:"4",SINGLE_BLOCK_VERT_TEXT:"5",SINGLE_BLOCK:"6",SINGLE_LINE:"7",SINGLE_WORD:"8",CIRCLE_WORD:"9",SINGLE_CHAR:"10",SPARSE_TEXT:"11",SPARSE_TEXT_OSD:"12",RAW_LINE:"13"};const sr=$e,ar=Ee,ir=rr,cr=nr,lr=ke,ur=or,{setLogging:dr}=K;var pr={languages:cr,OEM:lr,PSM:ur,createScheduler:sr,createWorker:ar,setLogging:dr,...ir};let X=null;async function se(e,n=[]){if(e.isFile){const o=await new Promise((a,l)=>e.file(a,l));n.push(o)}else if(e.isDirectory){const o=e.createReader(),a=await new Promise((l,u)=>o.readEntries(l,u));for(let l=0;l<a.length;l++)await se(a[l],n)}return n}function we(e,n){const o=e.name.toUpperCase(),a=n.name.toUpperCase();return o<a?-1:o>a?1:0}const fr={data(){return{initing:!1,loading:!1,droping:!1,dragCanvas:!1,parsing:!1,copying:!1,orcs:[],titles:[]}},mounted(){this.initWorker()},watch:{},methods:{async initWorker(){try{this.initing=!0,X=await pr.createWorker(),await X.loadLanguage("eng+chi_sim"),await X.initialize("eng+chi_sim"),this.initing=!1}catch(e){console.error(e),toastr.error(e.message)}},isUrl(e){return/^https?:[^\n ]+$/i.test(e)},async handlePaste(e){const o=e.clipboardData.items,a=[];for(let l=0;l<o.length;l++){o[l];for(let u=0;u<o.length;u++){const i=o[u];if(i.kind==="file"&&!i.type&&i.webkitGetAsEntry&&i.webkitGetAsEntry()){const v=i.webkitGetAsEntry();if(v.isDirectory){let m=await se(v);m=m.filter(T=>/\.(png|jpe?g|gif|webp)$/i.test(T.name)),m.sort(we),a.push(...m)}}else if(i.type.indexOf("image")!==-1){const v=i.getAsFile();a.push(v)}}}this.parseORC(a)},handleCopy(e){this.copying=!0,copyText(e),setTimeout(()=>this.copying=!1,200)},handleDropEnter(e){e.stopPropagation(),e.preventDefault(),this.droping=!0},handleDropLeave(e){e.stopPropagation(),e.preventDefault(),this.droping=!1},async handleDrop(e){e.stopPropagation(),e.preventDefault(),this.droping=!1;const n=Array.from(e.dataTransfer.items);let o=Array.from(e.dataTransfer.files);for(let a of n)if(a.kind==="file"&&a.webkitGetAsEntry&&a.webkitGetAsEntry()){const l=a.webkitGetAsEntry();if(l.isDirectory){const u=await se(l);u.sort(we),o.push(...u)}}o=o.filter(a=>/\.(png|jpe?g|gif|webp)$/i.test(a.name)),this.dragCanvas&&o.push(this.$refs.canvas),this.parseORC(o)},handleFiles(e){this.parseORC(e.target.files)},async parseORC(e){this.orcs=[],this.titles=[],this.parsing=!0;for(let n of e)try{const{data:{text:o}}=await X.recognize(n);o&&(this.orcs.push(o),this.titles.push(n.name||""))}catch(o){console.error("orc",o),toastr.error(o.message)}this.parsing=!1}}},B=e=>(Te("data-v-afb24bc2"),e=e(),De(),e),hr=B(()=>w("h1",{id:"image-to-text",tabindex:"-1"},[w("a",{class:"header-anchor",href:"#image-to-text","aria-hidden":"true"},"#"),be(" Image to Text")],-1)),gr=B(()=>w("hr",null,null,-1)),vr={class:"left dnd",style:{height:"auto",width:"50%","max-width":"500px"}},mr=B(()=>w("path",{d:"M7.75 11c-.69 0-1.25.56-1.25 1.25v1.5a1.25 1.25 0 102.5 0v-1.5C9 11.56 8.44 11 7.75 11zm1.27 4.5a.469.469 0 01.48-.5h5a.47.47 0 01.48.5c-.116 1.316-.759 2.5-2.98 2.5s-2.864-1.184-2.98-2.5zm7.23-4.5c-.69 0-1.25.56-1.25 1.25v1.5a1.25 1.25 0 102.5 0v-1.5c0-.69-.56-1.25-1.25-1.25z"},null,-1)),yr=B(()=>w("path",{"fill-rule":"evenodd",d:"M21.255 3.82a1.725 1.725 0 00-2.141-1.195c-.557.16-1.406.44-2.264.866-.78.386-1.647.93-2.293 1.677A18.442 18.442 0 0012 5c-.93 0-1.784.059-2.569.17-.645-.74-1.505-1.28-2.28-1.664a13.876 13.876 0 00-2.265-.866 1.725 1.725 0 00-2.141 1.196 23.645 23.645 0 00-.69 3.292c-.125.97-.191 2.07-.066 3.112C1.254 11.882 1 13.734 1 15.527 1 19.915 3.13 23 12 23c8.87 0 11-3.053 11-7.473 0-1.794-.255-3.647-.99-5.29.127-1.046.06-2.15-.066-3.125a23.652 23.652 0 00-.689-3.292zM20.5 14c.5 3.5-1.5 6.5-8.5 6.5s-9-3-8.5-6.5c.583-4 3-6 8.5-6s7.928 2 8.5 6z"},null,-1)),wr=[mr,yr],br={key:0,style:{"vertical-align":"top"},class:"AnimatedEllipsis"},_r={class:"blankslate-heading",style:{"margin-top":"10px","text-align":"center",position:"relative"}},kr=B(()=>w("span",null,"Select/Drop/Paste Images",-1)),Er=B(()=>w("p",null,"Drag and Drop images or directory here.",-1)),Lr={class:"right",style:{"padding-left":"5px",height:"auto",flex:"1"}},Sr={class:"border-radius",style:{"min-height":"200px",margin:"0",padding:"10px 10px 10px 10px","list-style-type":"none"}},Or={key:0,style:{"text-align":"center","margin-top":"70px"}},Ar={key:0},jr=B(()=>w("span",{style:{"vertical-align":"top"},class:"AnimatedEllipsis"},null,-1)),Rr={key:1},Tr={key:0},Dr={style:{margin:"10px 0"}},Nr={style:{margin:"10px 0","white-space":"pre-wrap"}},Pr={style:{margin:"10px 0"}},Ir=["disabled","onClick"];function Cr(e,n,o,a,l,u){return N(),P("div",null,[hr,gr,w("div",{class:"qrcode",onDrop:n[1]||(n[1]=(...i)=>u.handleDrop&&u.handleDrop(...i)),onPaste:n[2]||(n[2]=(...i)=>u.handlePaste&&u.handlePaste(...i)),onDragenter:n[3]||(n[3]=(...i)=>u.handleDropEnter&&u.handleDropEnter(...i)),onDragover:n[4]||(n[4]=(...i)=>u.handleDropEnter&&u.handleDropEnter(...i)),onDragleave:n[5]||(n[5]=(...i)=>u.handleDropLeave&&u.handleDropLeave(...i))},[w("div",vr,[w("div",{class:le(["blankslate border-radius",{droping:l.droping}]),style:{"margin-right":"5px",height:"200px"}},[(N(),P("svg",{class:le([{disabled:l.parsing},"octicon octicon-octoface blankslate-icon"]),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},wr,2)),l.parsing?(N(),P("span",br)):ne("v-if",!0),w("h3",_r,[kr,w("input",{type:"file",accept:"image/*",title:"",multiple:"",onChange:n[0]||(n[0]=(...i)=>u.handleFiles&&u.handleFiles(...i))},null,32)]),Er],2)]),w("div",Lr,[w("div",Sr,[l.orcs.length?ne("v-if",!0):(N(),P("div",Or,[l.initing?(N(),P("span",Ar,[be("Loading"),jr])):(N(),P("span",Rr,"Scan Results"))])),(N(!0),P(je,null,Re(l.orcs,(i,v)=>(N(),P("div",null,[v>0?(N(),P("hr",Tr)):ne("v-if",!0),w("h4",Dr,ue(l.titles[v]),1),w("div",Nr,ue(i),1),w("div",Pr,[w("button",{class:"btn",disabled:l.copying,onClick:m=>u.handleCopy(i)},"Copy",8,Ir)])]))),256))])])],32)])}const Ur=Ae(fr,[["render",Cr],["__scopeId","data-v-afb24bc2"],["__file","ocr.html.vue"]]);export{Ur as default};
