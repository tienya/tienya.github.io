import{_ as m,M as d,p as h,q as y,R as f,Q as o,t as i,ad as _,N as c,V as b}from"./framework-b01e3c2f.js";function j(){try{if(window)return localStorage.getItem("parse:json")}catch{}}function v(e){try{window&&localStorage.setItem("parse:json",e)}catch{}}const N={data(){let e=j();return[void 0,null].includes(e)&&(e=JSON.stringify({abc:"[0, 1]",foo:{bar:"abc",jsonstr:JSON.stringify({hello:123})}})),{loading:!1,json:e}},watch:{json(e){v(e)}},mounted(){},methods:{foldLevel(e){this.$refs.editor.foldLines(e)},foldCode(){for(let e of[2,3,4,5])this.$refs.editor.foldLines(e)},unfoldCode(){this.$refs.editor.unfoldLines()},minifyJSON(){try{const e=JSON.parse(this.json);this.json=JSON.stringify(e)}catch(e){toastr.error(e.message)}},parseDeep(e){if(typeof e=="object")for(let[t,n]of Object.entries(e))if(typeof n=="string"&&!/^\d+$/.test(n))try{e[t]=JSON.parse(n),this.parseDeep(e[t])}catch{}else typeof n=="object"&&this.parseDeep(n)},parseJSON(e=!1){try{let t=this.json.trim();try{try{t=new Function(`return (${t})`)()}catch{t=new Function(`return ('${t}')`)()}}catch{}let n=null;typeof t=="string"?n=JSON.parse(t):n=t,e&&this.parseDeep(n),this.json=JSON.stringify(n,"",2)}catch(t){toastr.error(t.message)}}}},S=o("h1",{id:"json-formatter",tabindex:"-1"},[o("a",{class:"header-anchor",href:"#json-formatter","aria-hidden":"true"},"#"),i(" JSON Formatter")],-1),g={class:"action-bar",style:{margin:"20px 0"}},J=o("span",null,"Format",-1),O=[J],w=o("span",null,"Format Deep",-1),C=[w],x={class:"BtnGroup"},k=o("span",null,"Minify",-1),B=[k];function F(e,t,n,a,l,r){const p=d("MonacoEditor"),u=d("ClientOnly");return h(),y("div",null,[S,f(' ### Supported Type\n\n1. Raw JSON object `{"foo":1,"bar":"{\\"foo\\":1}"}`\n2. JSON string wrapped by quotes `\'{"foo":1,"bar":"{\\\\"foo\\\\":1}"}\'`\n3. Raw JS object `{ foo: 1, bar: { foo: 1 } }` '),o("form",{onSubmit:t[5]||(t[5]=_(()=>{},["prevent"])),style:{margin:"20px 0"}},[f(` <div>
    <textarea class="form-control" rows="6" placeholder="JSON string" v-model="json" style="width: 100%;"></textarea>
  </div> `),o("div",g,[o("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=s=>r.parseJSON(!1))},O),i("   "),o("button",{class:"btn",onClick:t[1]||(t[1]=s=>r.parseJSON(!0))},C),i("   "),o("div",x,[o("button",{class:"BtnGroup-item btn",type:"button",onClick:t[2]||(t[2]=s=>{r.foldCode()})},"Fold"),o("button",{class:"BtnGroup-item btn",onClick:t[3]||(t[3]=s=>r.unfoldCode())},"Unfold")]),i("   "),o("button",{class:"btn",onClick:t[4]||(t[4]=(...s)=>r.minifyJSON&&r.minifyJSON(...s))},B)])],32),c(u,null,{default:b(()=>[c(p,{ref:"editor",style:{height:"calc(100vh - 230px)","min-height":"500px"},value:l.json,"onUpdate:value":t[6]||(t[6]=s=>l.json=s)},null,8,["value"])]),_:1})])}const $=m(N,[["render",F],["__file","json.html.vue"]]);export{$ as default};
