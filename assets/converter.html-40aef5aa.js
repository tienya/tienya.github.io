import{_ as v,p as u,q as c,Q as n,R as d,Z as g,ac as f,O as F,P as y,v as h,ad as B,a3 as b,a4 as _,t as w}from"./framework-c9763b50.js";const x={data(){return{leftFormat:this.getLocalStorage("cipher_leftFormat","decimal"),rightFormat:this.getLocalStorage("cipher_rightFormat","base64"),inputValue:this.getLocalStorage("cipher_inputValue",""),outputValue:"",errorMessage:"",uploadedFile:null,formats:[{value:"string",label:"Text",example:"Hello World",charset:""},{value:"file",label:"Binary",example:"",charset:""},{value:"decimal",label:"Decimal",example:"123456",charset:"0123456789"},{value:"hex",label:"Hex",example:"FF00AA",charset:"0123456789ABCDEF"},{value:"base26",label:"Base26",example:"HELLO",charset:"ABCDEFGHIJKLMNOPQRSTUVWXYZ"},{value:"base36",label:"Base36",example:"Z9X8Y7",charset:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"},{value:"base62",label:"Base62",example:"aB3cD4",charset:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz"},{value:"base64",label:"Base64",example:"SGVsbG8=",charset:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"}]}},watch:{leftFormat(e){this.setLocalStorage("cipher_leftFormat",e)},rightFormat(e){this.setLocalStorage("cipher_rightFormat",e)},inputValue(e){this.setLocalStorage("cipher_inputValue",e)}},mounted(){this.inputValue?this.convert():this.loadExample()},methods:{getLocalStorage(e,t){try{if(typeof window<"u"&&window.localStorage){const r=localStorage.getItem(e);return r!==null?r:t}}catch(r){console.warn("LocalStorage access failed:",r)}return t},setLocalStorage(e,t){try{typeof window<"u"&&window.localStorage&&localStorage.setItem(e,t)}catch(r){console.warn("LocalStorage save failed:",r)}},getCurrentFormatLabel(e,t=!1){const r=this.formats.find(a=>a.value===e);return r?r.value==="file"?t?"File":"Binary":r.label:e},getFormatConfig(e){return this.formats.find(t=>t.value===e)},convert(){if(this.errorMessage="",!this.inputValue.trim()){this.outputValue="";return}try{if(this.leftFormat===this.rightFormat){this.outputValue=this.inputValue;return}let e;if(this.leftFormat==="decimal")e=BigInt(this.inputValue.trim());else if(this.leftFormat==="string"){const t=this.stringToBytes(this.inputValue);e=this.bytesToBigInt(t)}else if(this.leftFormat==="base64"){const t=this.base64ToBytes(this.inputValue.trim());e=this.bytesToBigInt(t)}else if(this.leftFormat==="file")e=this.binaryStringToDecimal(this.inputValue.trim());else{const t=this.getFormatConfig(this.leftFormat);e=this.customBaseToDecimal(this.inputValue.trim().toUpperCase(),t.charset)}if(this.rightFormat==="decimal")this.outputValue=e.toString();else if(this.rightFormat==="string"){const t=this.bigIntToBytes(e);this.outputValue=this.bytesToString(t)}else if(this.rightFormat==="base64"){const t=this.bigIntToBytes(e);this.outputValue=this.bytesToBase64(t)}else if(this.rightFormat==="file")this.outputValue=this.decimalToBinaryString(e);else{const t=this.getFormatConfig(this.rightFormat);this.outputValue=this.decimalToCustomBase(e,t.charset)}}catch(e){this.errorMessage="Conversion failed: "+e.message,this.outputValue=""}},customBaseToDecimal(e,t){const r=t.length;let a=BigInt(0);const s=e.length;for(let i=0;i<s;i++){const o=e[i],l=t.indexOf(o);if(l===-1)throw new Error(`Invalid character: ${o}`);a=a*BigInt(r)+BigInt(l)}return a},decimalToCustomBase(e,t){if(e===BigInt(0))return t[0];const r=BigInt(t.length);let a="",s=e;for(;s>0;){const i=Number(s%r);a=t[i]+a,s=s/r}return a},base64ToBytes(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let r=[],a=0;e=e.replace(/=/g,""),a=(4-e.length%4)%4;for(let s=0;s<e.length;s+=4){let i=0;for(let o=0;o<4&&s+o<e.length;o++){const l=e[s+o],m=t.indexOf(l);if(m===-1)throw new Error(`Invalid Base64 character: ${l}`);i=i<<6|m}(s+3<e.length||a<2)&&r.push(i>>16&255),(s+3<e.length||a<1)&&r.push(i>>8&255),s+3<e.length&&r.push(i&255)}return r},bytesToBase64(e){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let r="";for(let a=0;a<e.length;a+=3){const s=e[a],i=a+1<e.length?e[a+1]:0,o=a+2<e.length?e[a+2]:0,l=s<<16|i<<8|o;r+=t[l>>18&63],r+=t[l>>12&63],r+=a+1<e.length?t[l>>6&63]:"=",r+=a+2<e.length?t[l&63]:"="}return r},bytesToBigInt(e){let t=BigInt(0);for(const r of e)t=(t<<BigInt(8))+BigInt(r);return t},bigIntToBytes(e){if(e===BigInt(0))return[0];const t=[];let r=e;for(;r>0;)t.unshift(Number(r&BigInt(255))),r=r>>BigInt(8);return t},swapFormats(){const e=this.leftFormat;this.leftFormat=this.rightFormat,this.rightFormat=e;const t=this.inputValue;this.inputValue=this.outputValue,this.outputValue=t,this.convert()},loadExample(){const e=this.getFormatConfig(this.leftFormat);this.inputValue=e.example,this.convert()},clearInput(){this.inputValue="",this.outputValue="",this.errorMessage=""},async copyResult(){if(!this.outputValue){this.errorMessage="No content to copy";return}if(this.rightFormat==="file"){this.downloadBinary();return}try{await navigator.clipboard.writeText(this.outputValue);const e=this.errorMessage;this.errorMessage="Copied successfully!",setTimeout(()=>{this.errorMessage=e},2e3)}catch{this.errorMessage="Copy failed, please copy manually"}},downloadBinary(){if(!this.outputValue||this.rightFormat!=="file"){this.errorMessage="No binary data to download";return}try{const e=this.binaryStringToBytes(this.outputValue),t=new Uint8Array(e),r=new Blob([t],{type:"application/octet-stream"}),a=URL.createObjectURL(r),s=document.createElement("a");s.href=a,s.download="binary_data.bin",document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(a);const i=this.errorMessage;this.errorMessage="Download started!",setTimeout(()=>{this.errorMessage=i},2e3)}catch(e){this.errorMessage="Download failed: "+e.message}},handleFileUpload(e){const t=e.target.files[0];if(!t)return;this.uploadedFile=t,this.errorMessage="";const r=new FileReader;r.onload=a=>{try{const s=a.target.result,i=new Uint8Array(s),o=this.bytesToBinaryString(Array.from(i));this.inputValue=o,this.convert()}catch(s){this.errorMessage="File reading failed: "+s.message}},r.onerror=()=>{this.errorMessage="File reading failed"},r.readAsArrayBuffer(t)},bytesToBinaryString(e){return e.map(t=>t.toString(2).padStart(8,"0")).join("")},binaryStringToBytes(e){const t=[];for(let r=0;r<e.length;r+=8){const a=e.substr(r,8);a.length===8&&t.push(parseInt(a,2))}return t},binaryStringToDecimal(e){if(!/^[01]*$/.test(e))throw new Error("Invalid binary string: contains non-binary characters");let t=BigInt(0);const r=e.length;for(let a=0;a<r;a++)e[a]==="1"?t=t*BigInt(2)+BigInt(1):t=t*BigInt(2);return t},decimalToBinaryString(e){if(e===BigInt(0))return"0";let t="",r=e;for(;r>0;)t=(r%BigInt(2)).toString()+t,r=r/BigInt(2);return t},stringToBytes(e){const t=new TextEncoder;return Array.from(t.encode(e))},bytesToString(e){try{return new TextDecoder("utf-8",{fatal:!0}).decode(new Uint8Array(e))}catch{return e.map(r=>String.fromCharCode(r)).join("")}},formatFileSize(e){if(e===0)return"0 Bytes";const t=1024,r=["Bytes","KB","MB","GB"],a=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,a)).toFixed(2))+" "+r[a]}}},p=e=>(b("data-v-a50dd12f"),e=e(),_(),e),V=p(()=>n("h1",{id:"base-converter",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#base-converter","aria-hidden":"true"},"#"),w(" Base Converter")],-1)),I={class:"converter-container"},S={class:"input-section"},T={class:"section-header"},C=p(()=>n("h3",null,"Input",-1)),M=["value"],L={key:0,class:"file-upload-container"},E={key:0,class:"file-info"},k={class:"file-name"},U={class:"file-size"},D={class:"input-actions"},A={class:"control-section"},R={class:"swap-container"},O={class:"conversion-info"},N={class:"conversion-text"},j={class:"output-section"},z={class:"section-header"},G=p(()=>n("h3",null,"Output",-1)),H=["value"],Z=["value"],K={class:"output-actions"},P={key:0,class:"error-message"};function Q(e,t,r,a,s,i){return u(),c("div",null,[V,n("div",I,[d(" Input Section "),n("div",S,[n("div",T,[C,g(n("select",{"onUpdate:modelValue":t[0]||(t[0]=o=>s.leftFormat=o),onChange:t[1]||(t[1]=(...o)=>i.convert&&i.convert(...o)),class:"format-select"},[(u(!0),c(F,null,y(s.formats,o=>(u(),c("option",{key:o.value,value:o.value},h(i.getCurrentFormatLabel(o.value,!0)),9,M))),128))],544),[[f,s.leftFormat]])]),s.leftFormat==="file"?(u(),c("div",L,[n("input",{type:"file",onChange:t[2]||(t[2]=(...o)=>i.handleFileUpload&&i.handleFileUpload(...o)),class:"file-input",accept:"*/*",ref:"fileInput"},null,544),s.uploadedFile?(u(),c("div",E,[n("span",k,h(s.uploadedFile.name),1),n("span",U,"("+h(i.formatFileSize(s.uploadedFile.size))+")",1)])):d("v-if",!0)])):g((u(),c("textarea",{key:1,"onUpdate:modelValue":t[3]||(t[3]=o=>s.inputValue=o),onInput:t[4]||(t[4]=(...o)=>i.convert&&i.convert(...o)),placeholder:"Enter content to convert...",class:"input-textarea"},`
    `,544)),[[B,s.inputValue]]),n("div",D,[n("button",{onClick:t[5]||(t[5]=(...o)=>i.clearInput&&i.clearInput(...o)),class:"btn"},"Clear"),n("button",{onClick:t[6]||(t[6]=(...o)=>i.loadExample&&i.loadExample(...o)),class:"btn"},"Example")])]),d(" Control Section "),n("div",A,[n("div",R,[n("button",{onClick:t[7]||(t[7]=(...o)=>i.swapFormats&&i.swapFormats(...o)),class:"swap-btn",title:"Swap input and output formats"}," ⇄ ")]),n("div",O,[n("span",N,h(i.getCurrentFormatLabel(s.leftFormat,!0))+" → "+h(i.getCurrentFormatLabel(s.rightFormat,!1)),1)])]),d(" Output Section "),n("div",j,[n("div",z,[G,g(n("select",{"onUpdate:modelValue":t[8]||(t[8]=o=>s.rightFormat=o),onChange:t[9]||(t[9]=(...o)=>i.convert&&i.convert(...o)),class:"format-select"},[(u(!0),c(F,null,y(s.formats,o=>(u(),c("option",{key:o.value,value:o.value},h(i.getCurrentFormatLabel(o.value,!1)),9,H))),128))],544),[[f,s.rightFormat]])]),n("textarea",{value:s.outputValue,readonly:"",placeholder:"Conversion result will be displayed here...",class:"output-textarea"},`
    `,8,Z),n("div",K,[n("button",{onClick:t[10]||(t[10]=(...o)=>i.copyResult&&i.copyResult(...o)),class:"btn btn-primary"},h(s.rightFormat==="file"?"Download":"Copy Result"),1),s.errorMessage?(u(),c("span",P,h(s.errorMessage),1)):d("v-if",!0)])])])])}const X=v(x,[["render",Q],["__scopeId","data-v-a50dd12f"],["__file","converter.html.vue"]]);export{X as default};
